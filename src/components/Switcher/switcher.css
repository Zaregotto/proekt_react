.switch {
    width: 25px;
    height: 25px;
    position: relative;
}

.switch label {
    display: block;
    width: 100%;
    height: 100%;
    position: relative;
    background: #cbc7bc;
    border-radius: 5px;
    box-shadow:
            inset 0 1px 0 white,
            0 0 0 1px #999,
            0 0 5px 1px rgba(0,0,0,0.2),
            0 2px 0 rgba(255,255,255,0.6),
            inset 0 10px 1px #e5e5e5,
            inset 0 11px 0 rgba(255,255,255,0.5),
            inset 0 -45px 3px #ddd;
}

.switch label:after {
    content: "";
    position: absolute;
    z-index: -1;
    top: -20px;
    left: -25px;
    bottom: -20px;
    right: -25px;
    background: #ccc; /* Fallback */
    background: linear-gradient(#ddd, #bbb);
    border-radius: inherit;
    border: 1px solid #bbb;
    box-shadow:
            0 0 5px 1px rgba(0,0,0,0.15),
            0 3px 3px rgba(0,0,0,0.3),
            inset 0 1px 0 rgba(255,255,255,0.5);
}

.switch label:before {
    content: "";
    position: absolute;
    width: 8px;
    height: 8px;
    top: -13px;
    left: 20px;
    border-radius: 50%;
}

.switch button:checked ~ label { /* Button */
    background: #d2cbc3;
    box-shadow:
            inset 0 1px 0 white,
            0 0 0 1px #999,
            0 0 5px 1px rgba(0,0,0,0.2),
            inset 0 -10px 0 #aaa,
            0 2px 0 rgba(255,255,255,0.1),
            inset 0 45px 3px #e0e0E0,
            0 8px 6px rgba(0,0,0,0.18);
}